<% template = f.object.model.class.to_s.underscore %>

<div class="ubiquity-meta-funder <%= template %>_funder">
  <% field_slug = "funder_name" %>
  <%# NOTE: This is span because using a div will break the autocomplete for the first element %>
  <%# and i'd like to refactor all of this so preserving functionality is enough for now %>
  <span class="form-group <%= "#{field_slug}-group #{template}_#{field_slug}" %>">
    <label class="control-label multi_value optional" for="<%= template %>_funder_name">
      Funder Name
    </label>

    <%= Hyrax::Renderers::DepositFormFieldHintRenderer.new.hint("funder_name") %>
    <%= text_field_tag "#{template}[funder][][funder_name]", nil,
      class: "#{template}_funder form-control multi-text-field multi_value ubiquity_funder_name",
      placeholder: t("simple_form.placeholders.defaults.funder_name"),
      name: "#{template}[funder][][funder_name]",
      data: {
        field_name: 'ubiquity_funder_name',
        'autocomplete-url' => '/authorities/search/crossref/funders',
        'autocomplete' => "funder"
     }
    %>
  </span>
  <br><br>

  <% field_slug = "funder_doi" %>
  <div class="form-group <%= "#{field_slug}-group #{template}_#{field_slug}" %>">
    <label class="control-label multi_value optional" for="<%= template %>_funder_doi">
      Funder DOI</label>

    <%= Hyrax::Renderers::DepositFormFieldHintRenderer.new.hint("funder_doi") %>
    <%= text_field_tag "#{template}[funder][][funder_doi]", nil,
      class: "#{template}_funder form-control multi-text-field multi_value ubiquity_funder_doi",
      placeholder: t("simple_form.placeholders.defaults.funder_doi"),
      name: "#{template}[funder][][funder_doi]",
      data: {field_name:'ubiquity_funder_doi'}
    %>
  </div>

  <% field_slug = "funder_isni" %>
  <div class="form-group <%= "#{field_slug}-group #{template}_#{field_slug}" %>">
    <label class="control-label multi_value optional" for="<%= template %>_funder_isni">
      Funder ISNI </label>

    <%= Hyrax::Renderers::DepositFormFieldHintRenderer.new.hint("funder_isni") %>
    <%= text_field_tag "#{template}[funder][][funder_isni]", nil,
      class: "#{template}_funder form-control multi-text-field multi_value ubiquity_funder_isni",
      placeholder: t("simple_form.placeholders.defaults.funder_isni"),
      name: "#{template}[funder][][funder_isni]",
      data: {field_name:'ubiquity_funder_isni'}
    %>
  </div>

  <% field_slug = "funder_ror" %>
  <div class="form-group <%= "#{field_slug}-group #{template}_#{field_slug}" %>">
    <label class="control-label multi_value optional" for="<%= template %>_funder_ror">
      Funder ROR </label>

    <%= Hyrax::Renderers::DepositFormFieldHintRenderer.new.hint("funder_ror") %>
    <%= text_field_tag "#{template}[funder][][funder_ror]", nil,
      class: "#{template}_funder form-control multi-text-field multi_value ubiquity_funder_ror",
      placeholder: t("simple_form.placeholders.defaults.funder_ror"),
      name: "#{template}[funder][][funder_ror]",
      data: {field_name:'ubiquity_funder_ror'}
    %>
  </div>

  <% field_slug = "funder_award" %>
  <div class="form-group <%= "#{field_slug}-group #{template}_#{field_slug}" %>">
    <label class="control-label multi_value optional" for="<%= template %>_funder_award">
      Funder Awards </label>

    <%= Hyrax::Renderers::DepositFormFieldHintRenderer.new.hint("funder_awards") %>
    <ul class="listing funder_awards_input_fields_wrap" style='padding-left: 0px;'>
      <li class="field-wrapper input-group input-append">
        <%= text_field_tag "#{template}[funder][][funder_award][]", nil,
          class: "#{template}_funder form-control multi-text-field multi_value ubiquity_funder_awards",
          placeholder: "Please enter the award number",
          name: "#{template}[funder][][funder_award][]",
          data: {field_name:'ubiquity_funder_awards'} %>
      </li>
    </ul>
		<a href='#' class="add-new add_another_funder_awards_button form-group">
      <span class="glyphicon glyphicon-plus"></span>
      Add another Award number
    </a>
  </div>

  <div class="form-group">
    <a href="#" class="text-danger remove_funder form-group" data-removeUbiquityfunder=".ubiquity-meta-funder">
      <span class="glyphicon glyphicon-remove"></span>
      <span class="controls-remove-text">Remove</span>
    </a>
    |
    <a href="#" class="add_funder" data-addUbiquityfunder=".ubiquity-meta-funder">Add another Funder</a>
  </div>

  <hr>
</div>
