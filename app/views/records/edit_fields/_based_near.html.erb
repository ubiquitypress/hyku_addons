<% # This file can be removed when the schema migration has been completed %>
<!-- _<%= key %> -->
<% if f.object.schema_driven? %>
  <%= render "records/edit_fields/default", f: f, key: key %>

<% else %>
  <%= f.input key,
    as: :controlled_vocabulary,
    placeholder: "Search for a location",
    input_html: {
      class: "form-control",
      data: {
        "autocomplete-url" => "/authorities/search/geonames",
        "autocomplete" => key
      }
    },
    ### Required for the ControlledVocabulary javascript:
    wrapper_html: {
      data: {
        "autocomplete-url" => "/authorities/search/geonames",
        "field-name" => key
      }
    },
    required: f.object.required?(key)
  %>
<% end %>
