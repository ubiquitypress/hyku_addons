<!-- legacy - _current_he_institution -->

<% # Current HE Institution needs mutiple fields, all of which require a different key from the authority service. %>
<% # It will require a new endpoint created to query the authorities and return the requested entry data %>
<% # a new field listener could then be added to any form field to listen to onChange events and updte the subfields accordingly %>
<% template = f.object.model.class.to_s.underscore %>

<div class="<%= template %>_current_he_institution">
  <% if  f.object.model.new_record? %>
    <%= render "hyku_addons/current_he_institution/new_form", f: f %>
  <% else %>
    <% array_of_hash = get_model(f.object.model.current_he_institution, f.object.model.class.to_s, 'current_he_institution', nil) %>
    <% array_of_hash = array_of_hash || [{}] %>
    <%= render "hyku_addons/current_he_institution/edit_array_hash_form", array_of_hash: array_of_hash, f: f %>
  <% end %>
  <br>
</div>
